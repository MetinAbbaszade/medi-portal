<div class="container">
    <h1 class="dashboard-header">Dashboard Overview</h1>
    <p class="subtitle">Welcome back! Here's what's happening today.</p>
    <div class="general-information-wrapper">
        @for(card of information_cards; track $index){
        <div class="information-cards">
            <div class="total-information">
                <div>
                    <span class="material-symbols-outlined">
                        {{card.icon}}
                    </span>
                </div>
                <span class="label">{{card.label}}</span>
                <span class="count">{{card.count}}</span>
            </div>
            <div class="percentage">+{{card.percentage}}%</div>
        </div>
        }
    </div>
    <div class="body-wrapper">
        <div class="doctor-management">
            <div class="header">
                <div class="header-label">Doctor Management</div>
                <div class="information">Overview of active medical staff</div>
            </div>
            <div class="doctor-card-wrapper">
                @for(item of doctor_cards; track $index){
                <div class="doctor-card">
                    <div class="left-side">
                        <div class="image-wrapper"></div>
                        <div class="info-wrapper">
                            <span class="name">Dr. {{item.name}}</span>
                            <span class="specialty">{{item.specialty}}</span>
                        </div>
                    </div>
                    <div class="right-side">
                        <span>{{item.patient_count}} Patients</span>
                    </div>
                </div>
                }
            </div>
        </div>
        <div class="appointment-calendar">
            <div class="header">
                <div class="header-label">Appointment Calendar</div>
                <div class="information">Schedule and manage appointments</div>
            </div>
            <div class="custom-calendar-container">
                <div class="calendar-header">
                    <button (click)="prevMonth()" class="prevMonthBtn">
                        < </button>
                            <h3 class="month-title">
                                {{ viewDate | calendarDate: 'monthViewTitle': 'en' }}
                            </h3>
                            <button (click)="nextMonth()" class="nextMonthBtn"> > </button>
                </div>

                <mwl-calendar-month-view [viewDate]="viewDate" [events]="[]" [weekStartsOn]="1"
                    [cellTemplate]="customDayCell" (dayClicked)="handleDayClick($event)">
                </mwl-calendar-month-view>

                <ng-template #customDayCell let-day="day" let-events="events" let-isOpen="isOpen">
                    <div class="cal-day-cell" [class.cal-in-month]="day.inMonth" [class.cal-today]="day.isToday"
                        [ngClass]="{'is-selected': isDaySelected(day)}" (click)="handleDayClick(day)">
                        <div class="cal-cell-top">
                            <span class="cal-day-number">{{ day.date | date:'d' }}</span>
                        </div>
                    </div>
                </ng-template>
            </div>
        </div>
    </div>

</div>